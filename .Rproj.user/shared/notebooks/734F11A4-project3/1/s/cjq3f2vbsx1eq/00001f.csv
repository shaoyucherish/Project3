"0","#Read in the data file"
"0","newsData <- read_csv(""OnlineNewsPopularity.csv"", show_col_types = FALSE)"
"0","#Choose the data channel of interest"
"0","if (params$channelID != """") {"
"0","  paramChannelName <- params$channelID"
"0","} else {"
"0","  paramChannelName <- ""lifestyle"""
"0","}"
"0","channelID <- paste(""data_channel_is_"", paramChannelName, sep = """")"
"0","#Merge the weekday columns as one single column."
"0","news <- newsData %>% "
"0","  filter(.data[[channelID]] == 1) %>% "
"0","  select(url, starts_with(""weekday_is_"")) %>% "
"0","  pivot_longer(-url) %>% "
"0","  filter(value != 0) %>% "
"0","  mutate(publish_weekday = substr(name, 12, 20)) %>% "
"0","  left_join(newsData, by = ""url"") %>% "
"0","#Remove non predictive variables"
"0","  select(-c(url, name, value, timedelta, starts_with(""data_channel_is_""), starts_with(""weekday_is_"")))"
"0","news$publish_weekday <- as.factor(news$publish_weekday)"
"0","news"
